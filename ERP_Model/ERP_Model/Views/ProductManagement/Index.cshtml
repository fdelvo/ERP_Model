@{
    ViewBag.Title = "Index";
}

<div ng-controller="AngularProductsController" ng-init="ProductList()" class="content-box">
    <h1>Products</h1>
    <div class="nav-bar">
        <a href="/ProductManagement/New" class="button">New Product</a>
    </div>
    <form class="search-form" ng-submit="ProductSearch()">
        <input type="text" ng-model="searchString"/>
        <input type="submit" value="Search"/>
        <input type="button" value="Reset" ng-click="ProductList()" />
    </form>
    <table>
        <thead>
        <tr>
            <th>Product Name</th>
            <th>Product Description</th>
            <th>Product Price</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="p in products.DataObject track by p.ProductGuid">
            <td data-th="Product Name">{{p.ProductName}}</td>
            <td data-th="Product Description">{{p.ProductDescription}}</td>
            <td data-th="Product Price">{{p.ProductPrice}}</td>
            <td>
                <a href="/ProductManagement/Edit/{{p.ProductGuid}}">Edit</a>
            </td>
            <td>
                <a href="" ng-click="RemoveProduct(p.ProductGuid)">Delete</a>
            </td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <td colspan="5"><a class="button" href="" ng-click="Previous(products.CurrentPage, products.PageAmount, ProductList)">Previous</a> {{products.CurrentPage+1}} / {{products.PageAmount}} <a class="button" href="" ng-click="Next(products.CurrentPage, products.PageAmount, ProductList)">Next</a></td>
        </tr>
        </tfoot>
    </table>
</div>